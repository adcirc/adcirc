

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="IM in ADCIRC" name="description" />
<meta content="adcirc, im" name="keywords" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IM &mdash; ADCIRC  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=e1954242" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="NOLIBF" href="nolibf.html" />
    <link rel="prev" title="ICS" href="ics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            ADCIRC
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/what_is_adcirc.html">What is ADCIRC?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/index.html">Contributing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Theory:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../theory/index.html">Theory and Formulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../compiling.html">Compiling ADCIRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../running_adcirc/index.html">Running ADCIRC</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Model Configuration</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Model Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../physics_parameters/index.html">Physics Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initial_conditions/index.html">Initial Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../boundary_conditions/index.html">Boundary Conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tides/index.html">Astronomical Tides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meteorological_forcing/index.html">Meteorological Forcing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../typical_configurations/typical_parameter_selections.html">Typical Parameter Selections</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../special_features/index.html">Special Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips_and_tricks/index.html">Tips and Tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_reference/all_files.html">All Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_reference/input_files/index.html">Input Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_reference/output_files/index.html">Output Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html">Parameter Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_reference/executables.html">Executables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../technical_reference/architecture/code_architecture.html">Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Support:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../questions_and_support/index.html">Questions and Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">About This Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">ADCIRC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Model Configuration</a></li>
          <li class="breadcrumb-item"><a href="index.html">Model Parameters</a></li>
      <li class="breadcrumb-item active">IM</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/user_guide/model_configuration/model_parameters/im.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="im">
<span id="im-code"></span><h1>IM<a class="headerlink" href="#im" title="Link to this heading"></a></h1>
<p><strong>IM</strong> is an important parameter in the <a class="reference external" href="fort.15_file">fort.15 file</a> that
defines numerical model formulation and dimension. Among other things, <code class="docutils literal notranslate"><span class="pre">IM</span></code>
specifies whether ADCIRC is solved in two-dimensional depth-integrated (2DDI) or
in three-dimensions (3D), solution of the governing equations is semi-implicit
or explicit in time, and whether the model formulation is barotropic or
baroclinic. Popular values for 2D barotropic ADCIRC include <code class="docutils literal notranslate"><span class="pre">IM=0</span></code> and
<code class="docutils literal notranslate"><span class="pre">IM=111112</span></code>; users should be aware that the
<a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html#a00"><span class="std std-ref">A00</span></a>, <a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html#b00"><span class="std std-ref">B00</span></a>, and <a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html#c00"><span class="std std-ref">C00</span></a> coefficients must be
specified differently in these two cases.</p>
<section id="default-im-values">
<span id="id1"></span><h2>Default IM Values<a class="headerlink" href="#default-im-values" title="Link to this heading"></a></h2>
<p>Default simulation option combinations can be specified through single or double
digit values, some of which are shortcuts to the six-digit codes described in
the next heading. The available <code class="docutils literal notranslate"><span class="pre">IM</span></code> values are specified in the table below
and in the following section on 6-digit values:</p>
<table class="wrap-table docutils align-default">
<colgroup>
<col style="width: 16.7%" />
<col style="width: 16.7%" />
<col style="width: 66.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>IM Value</p></th>
<th class="head"><p>Six-digit Equivalent</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>111111</p></td>
<td><p>Barotropic 2DDI</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>611111</p></td>
<td><p>Barotropic 3D velocity-based momentum</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Barotropic 3D stress-based momentum</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Barotropic 2DDI with passive scalar transport</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Barotropic 3D velocity-based momentum with passive scalar transport</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Baroclinic 2DDI</p></td>
</tr>
<tr class="row-even"><td><p>21</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Baroclinic 3D velocity-based momentum</p></td>
</tr>
<tr class="row-odd"><td><p>30</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Baroclinic 2DDI with passive scalar transport</p></td>
</tr>
<tr class="row-even"><td><p>31</p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Baroclinic 3D velocity-based momentum with passive scalar transport</p></td>
</tr>
</tbody>
</table>
<p>Note that all default <code class="docutils literal notranslate"><span class="pre">IM</span></code> values employ the semi-implicit consistent GWCE
mass matrix solver. It has less numerical error and tends to be more stable than
the explicit mass-lumping approach at the expense of computational time and
memory.</p>
</section>
<section id="six-digit-im-codes">
<span id="id2"></span><h2>Six-digit IM Codes<a class="headerlink" href="#six-digit-im-codes" title="Link to this heading"></a></h2>
<p>For fine-grained control of various options six-digit codes for <code class="docutils literal notranslate"><span class="pre">IM</span></code> can be
specified. Each digit represents a specific option regarding the dimension and
the formulation of certain terms or integration methods in the GWCE or momentum
equations. The available options for each digit are specified below, with the
first digit being the left-most. The internal flags that are set are listed to
help users dig through the code.</p>
<table class="wrap-table tighter-table docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
<col style="width: 15.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Digit 1: 2DDI/3D, Lateral Stress in GWCE <a class="footnote-reference brackets" href="#id8" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></th>
<th class="head"><p>Digit 2: Advection in GWCE <a class="footnote-reference brackets" href="#id9" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></th>
<th class="head"><p>Digit 3: Lateral Stress in Momentum <a class="footnote-reference brackets" href="#id8" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></th>
<th class="head"><p>Digit 4: Advection in Momentum <a class="footnote-reference brackets" href="#id9" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a></p></th>
<th class="head"><p>Digit 5: Area Integration in Momentum</p></th>
<th class="head"><p>Digit 6: GWCE Mass Matrix, Barotropic/Baroclinic</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1 (default)</p></td>
<td><p>2DDI, Kolar-Gray flux-based <code class="docutils literal notranslate"><span class="pre">CGWCE_LS_KGQ=.TRUE.</span></code></p></td>
<td><p>Non conservative <code class="docutils literal notranslate"><span class="pre">CGWCE_Advec_NC=.TRUE.</span></code></p></td>
<td><p>Integration by parts, velocity-based <code class="docutils literal notranslate"><span class="pre">CME_LS_IBPV=.TRUE.</span></code></p></td>
<td><p>Non conservative <code class="docutils literal notranslate"><span class="pre">CME_New_NC=.TRUE.</span></code></p></td>
<td><p>Corrected <code class="docutils literal notranslate"><span class="pre">CME_AreaInt_Corr=.TRUE.</span></code></p></td>
<td><p>Consistent (implicit for linear part of gravity wave term), barotropic <code class="docutils literal notranslate"><span class="pre">ILump=0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>2DDI, 2-part flux-based <code class="docutils literal notranslate"><span class="pre">CGWCE_LS_2PartQ=.TRUE.</span></code></p></td>
<td><p>Conservative form 1 <code class="docutils literal notranslate"><span class="pre">CGWCE_Advec_C1=.TRUE.</span></code></p></td>
<td><p>Integration by parts, flux-based <code class="docutils literal notranslate"><span class="pre">CME_LS_IBPQ=.TRUE.</span></code></p></td>
<td><p>Conservative form 1 <code class="docutils literal notranslate"><span class="pre">CME_New_C1=.TRUE.</span></code></p></td>
<td><p>Original <code class="docutils literal notranslate"><span class="pre">CME_AreaInt_Orig=.TRUE.</span></code></p></td>
<td><p>Lumped (explicit), barotropic <code class="docutils literal notranslate"><span class="pre">CGWCE_Lump=.TRUE.</span></code>, <code class="docutils literal notranslate"><span class="pre">ILump=1</span></code></p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>2DDI, 2-part velocity-based <code class="docutils literal notranslate"><span class="pre">CGWCE_LS_2PartV=.TRUE.</span></code></p></td>
<td><p>Conservative form 2 <code class="docutils literal notranslate"><span class="pre">CGWCE_Advec_C2=.TRUE.</span></code></p></td>
<td><p>Integration by parts, velocity-based symmetrical <code class="docutils literal notranslate"><span class="pre">CME_LS_IBPSV=.TRUE.</span></code></p></td>
<td><p>Conservative form 2 <code class="docutils literal notranslate"><span class="pre">CME_New_C2=.TRUE.</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Consistent (implicit for full gravity wave term), barotropic <code class="docutils literal notranslate"><span class="pre">CGWCE_HDP=.TRUE.</span></code>, <code class="docutils literal notranslate"><span class="pre">IFNL_HDP=1</span></code>, <code class="docutils literal notranslate"><span class="pre">ILump=0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>2DDI, 2-part flux-based symmetrical <code class="docutils literal notranslate"><span class="pre">CGWCE_LS_2PartSQ=.TRUE.</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>Integration by parts, flux-based symmetrical <code class="docutils literal notranslate"><span class="pre">CME_LS_IBPSQ=.TRUE.</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>2DDI, 2-part velocity-based symmetrical <code class="docutils literal notranslate"><span class="pre">CGWCE_LS_2PartSV=.TRUE.</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>2 Part, velocity-based (<em>not implemented</em>) <code class="docutils literal notranslate"><span class="pre">CME_LS_2PartV=.TRUE.</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>3D, Kolar-Gray flux-based <code class="docutils literal notranslate"><span class="pre">C2DDI=.FALSE.</span></code>, <code class="docutils literal notranslate"><span class="pre">CGWCE_LS_KGQ=.TRUE.</span></code>, <code class="docutils literal notranslate"><span class="pre">C3D=.TRUE.</span></code>, <code class="docutils literal notranslate"><span class="pre">C3DVS=.TRUE.</span></code>, <code class="docutils literal notranslate"><span class="pre">ILump=0</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><p>2 Part, flux-based (<em>not implemented</em>) <code class="docutils literal notranslate"><span class="pre">CME_LS_2PartQ=.TRUE.</span></code></p></td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
<td><ul class="simple">
<li></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>A common code combination is <code class="docutils literal notranslate"><span class="pre">IM=111112</span></code>, which is identical to the default
<code class="docutils literal notranslate"><span class="pre">111111</span></code> (same as <code class="docutils literal notranslate"><span class="pre">IM=0</span></code>), but simulates in explicit mass-lumping mode. Note
that <a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html#a00"><span class="std std-ref">A00</span></a>, <a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html#b00"><span class="std std-ref">B00</span></a>, and <a class="reference internal" href="../../../technical_reference/parameter_definitions/index.html#c00"><span class="std std-ref">C00</span></a> must be set to
<code class="docutils literal notranslate"><span class="pre">0.0</span> <span class="pre">1.0</span> <span class="pre">0.0</span></code> when in this mode. Lumped explicit mode is a useful alternative
to the (default) semi-implicit consistent GWCE mass matrix mode, because the
latter requires a matrix solve that increases computational time and memory. By
comparison, the explicit mass-lumping mode is about twice as fast and scales to
fewer grid nodes per computational core. <a class="footnote-reference brackets" href="#id10" id="id7" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a> Moreover, for model setups that
are sufficiently resolved in space and time, differences in the solution between
approaches should be small. Though, many users have reported somewhat lower
stability in lumped explicit mode.</p>
<p>The most recent version (55+) also has an option that improves the (default)
semi-implicit consistent GWCE mass matrix mode to compute the complete (total
depth) gravity wave term (free surface gradient) implicitly; toggled by setting
IMDigit-6 to 3. The default version (IMDigit-6=1), only computes the initial
still water depth component of the free surface gradient implicitly, which might
make it more susceptible to CFL violations in shallow depths and can encounter
Matrix diagonality issues overland where the initial still water depth is
negative.</p>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<references /><aside class="footnote-list brackets">
<aside class="footnote brackets" id="id8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id5">2</a>)</span>
<p>K.M. Dresback, R.L. Kolar, R.A. Luettich, Jr. (2005). On the Form of the
Momentum Equation and Lateral Stress Closure Law in Shallow Water Modeling,
in: Estuar. Coast. Model., American Society of Civil Engineers, Reston, VA,
399–418. doi:10.1061/40876(209)23</p>
</aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id4">1</a>,<a role="doc-backlink" href="#id6">2</a>)</span>
<p>K.M. Dresback, R.L. Kolar, J.C. Dietrich (2005). On the Form of the Momentum Equation for Shallow Water Models Based on the Generalized Wave Continuity Equation: Conservative vs. Non-Conservative. Advances in Water Resources, 28(4), 345-358. doi:10.1016/j.advwatres.2004.11.011</p>
</aside>
<aside class="footnote brackets" id="id10" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id7">3</a><span class="fn-bracket">]</span></span>
<ol class="upperalpha simple" start="19">
<li><p>Tanaka, S. Bunya, J.J. Westerink, C. Dawson, R.A. Luettich, Scalability of an Unstructured Grid Continuous Galerkin Based Hurricane Storm Surge Model, J. Sci. Comput. 46 (2011) 329–358. doi:10.1007/s10915-010-9402-1</p></li>
</ol>
</aside>
</aside>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ics.html" class="btn btn-neutral float-left" title="ICS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="nolibf.html" class="btn btn-neutral float-right" title="NOLIBF" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>